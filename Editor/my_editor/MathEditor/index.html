<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href="css/matheditor.css" rel="stylesheet">
    <title>MyEditor</title>
</head>
<body>

<div id="MathEditorTools">
    <ul class="clearfix">
        <li><a href="javascript:editorInsert('{..}');" title="插入数学式,在美元符号内直接写公式，完成后按 Ctl + Enter 键">{…}</a></li>
        <li><a href="javascript:editorInsert('sqrt( )');" title="根号">√</a></li>
        <li><a href="##" title="3">3</a></li>
        <li><a href="##" title="4">4</a></li>
        <li><a href="##" title="5">5</a></li>
        <li><a href="##" title="6">6</a></li>
        <li><a href="##" title="7">7</a></li>
        <li><a href="##" title="8">8</a></li>
        <li><a href="##" title="9">9</a></li>
        <li><a href="javascript:Color();" title="字体颜色"><b>A</b></a></li>
        <li><a href="javascript:Black();" title="加粗"><b>B</b></a></li>
        <li><a href="javascript:Italic();" title="斜体"><i><b>I</b></i></a></li>
        <li><a href="javascript:UnderLine();" title="下划线"><u><b>U</b></u></a></li>
        <li><a href="javascript:Image();" title="图片"><img src="images/image.png" style="height: 20px; vertical-align: middle;"/></a></li>
        <li><a href="javascript:Link();" title="超链"><img src="images/link.png" style="height: 20px; vertical-align: middle;"/></a></li>
    </ul>
</div>
<div contenteditable="true" id="MathEditor">

    <p>当 $a != 0$, 且 `ax^2 + bx + c = 0` ，求解：

        `x = (-b +- sqrt(b^2-4ac))/(2a)`

    </p>
    <p>当 `x < y` 时 ...</p>

</div>

<script src="js/jquery.js"></script>
<script>
    $(function () {
        window.onresize=resizeWindow;
        resizeWindow();
    });
    function resizeWindow(){
        $("#MathEditor").height(parseInt($(window).height())-parseInt($("#MathEditorTools").height())-30+"px");
    }
</script>

<script type="text/javascript" async src="MathJax/MathJax.js?config=AM_CHTML,Safe&locale=zh-hans"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({asciimath2jax: {delimiters: [['$','$'], ['`','`']]}});
MathJax.Hub.Register.StartupHook("End Jax",function () {
  var BROWSER = MathJax.Hub.Browser;
  //var jax = "HTML-CSS";
  var jax = "SVG";
  if (BROWSER.isMSIE && BROWSER.hasMathPlayer) jax = "NativeMML";
  if (BROWSER.isFirefox) jax = "SVG";
  if (BROWSER.isSafari && BROWSER.versionAtLeast("5.0")) jax = "NativeMML";
  return MathJax.Hub.setRenderer(jax);
});
MathJax.Hub.Config({
    CommonHTML: { linebreaks: { automatic: true } },
    "HTML-CSS": { linebreaks: { automatic: true }, extensions: ["handle-floats.js"] },
    SVG: { linebreaks: { automatic: true } },
    "showMathMenu": false,
    preview: ["[math]"]
});
</script>
<script>
    $(document).keypress(function(e){
        if(e.ctrlKey && e.which == 13 || e.which == 10) {
            reMath();
        }
    });
    function reMath() {
        var math = document.getElementById("MathEditor");
        MathJax.Hub.Queue(["Typeset", MathJax.Hub, math]);
    }
</script>
<script src="js/default.js"></script>
</body>
</html>